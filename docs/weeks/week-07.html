<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="">
<meta name="dcterms.date" content="2024-05-22">

<title>Statistics - Course Website - Asynchronous session: Inference &amp; more ESS data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../css/custom.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Asynchronous session: Inference &amp; more ESS data</li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/hex_sticker.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main">
    <a href="https://lms.uibk.ac.at/url/RepositoryEntry/5617582099" rel="" title="OLAT" class="quarto-navigation-tool px-1" aria-label="OLAT"><i class="bi bi-bank"></i></a>
    <a href="https://www.datacamp.com/" rel="" title="Datacamp" class="quarto-navigation-tool px-1" aria-label="Datacamp"><i class="bi bi-rocket"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../material.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Weekly schedule (Slides &amp; Materials)</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#session-12" id="toc-session-12" class="nav-link active" data-scroll-target="#session-12">Session 12</a></li>
  <li><a href="#recap" id="toc-recap" class="nav-link" data-scroll-target="#recap">Recap</a>
  <ul class="collapse">
  <li><a href="#the-ess" id="toc-the-ess" class="nav-link" data-scroll-target="#the-ess">The ESS</a></li>
  <li><a href="#using-ess-data-for-research" id="toc-using-ess-data-for-research" class="nav-link" data-scroll-target="#using-ess-data-for-research">Using ESS data for research</a></li>
  <li><a href="#using-ess-data-for-research-1" id="toc-using-ess-data-for-research-1" class="nav-link" data-scroll-target="#using-ess-data-for-research-1">Using ESS data for research</a></li>
  <li><a href="#understandings-of-democracy-in-austria" id="toc-understandings-of-democracy-in-austria" class="nav-link" data-scroll-target="#understandings-of-democracy-in-austria">Understandings of democracy (in Austria)</a></li>
  </ul></li>
  <li><a href="#nativism-democracy" id="toc-nativism-democracy" class="nav-link" data-scroll-target="#nativism-democracy">Nativism &amp; democracy</a>
  <ul class="collapse">
  <li><a href="#constructing-the-nativism-variable" id="toc-constructing-the-nativism-variable" class="nav-link" data-scroll-target="#constructing-the-nativism-variable">Constructing the nativism variable</a></li>
  </ul></li>
  <li><a href="#your-turn" id="toc-your-turn" class="nav-link" data-scroll-target="#your-turn">Your turn!</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Asynchronous session: Inference &amp; more ESS data</h1>
<p class="subtitle lead">Week 07</p>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 22, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="session-12" class="level1">
<h1>Session 12</h1>
<p>In our second asynchronous session, you can again follow along the code first and then extend it in your own RStudio. The goal is to apply and thus practice learnings from our last sessions on inference. In order to run the following code, you need only the tidyverse and the estimatr package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"tidyverse"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"estimatr"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can find the data as well as the articles, their appendix, and the questionnaire on <a href="https://lms.uibk.ac.at/url/RepositoryEntry/5617582099/CourseNode/109453712367926/path%3D~~week%5F07/0">OLAT via Folder - week_07</a>. However, you can also get the data yourself via Google Scholar and/or the University library (articles and appendix) and the data as well as the questionnaire via the <a href="https://ess.sikt.no/en/?tab=overview">ESS data portal</a>. Selecting the right countries in the data portal requires some reading of the articles or rather the appendix (Hint: Have a look at the note of table A1 in the appendix of the EJPR (European Journal of Political Research) paper)! <strong>I recommend to try it out yourself.</strong> This is good practice!</p>
</section>
<section id="recap" class="level1">
<h1>Recap</h1>
<section id="the-ess" class="level2">
<h2 class="anchored" data-anchor-id="the-ess">The <a href="https://www.europeansocialsurvey.org/">ESS</a></h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.europeansocialsurvey.org/data-portal"><img src="ess.jpg" class="img-fluid figure-img"></a></p>
</figure>
</div>
</section>
<section id="using-ess-data-for-research" class="level2">
<h2 class="anchored" data-anchor-id="using-ess-data-for-research">Using ESS data for research</h2>
<ul>
<li><p>The ESS data allows us to conduct empirical research</p></li>
<li><p>We can study political phenomena</p>
<ul>
<li><p>at specific points in time or biannually over multiple years&nbsp;(2002 - 2020)</p></li>
<li><p>in single countries or across multiple European countries and beyond (39 countries have participated at least once)</p></li>
</ul></li>
<li><p>However, it is difficult to make causal claims as this is not a panel data set!</p></li>
</ul>
</section>
<section id="using-ess-data-for-research-1" class="level2">
<h2 class="anchored" data-anchor-id="using-ess-data-for-research-1">Using ESS data for research</h2>
<p>The ESS includes regular survey items (party affiliation, political interest, …), and multiple rotating modules in each survey wave. For example:</p>
<ul>
<li><p>Round 10: Democracy</p></li>
<li><p>Round 8: Climate change</p></li>
<li><p>Round 7: Immigration</p></li>
</ul>
<p>Take some time to look at the <a href="https://www.europeansocialsurvey.org/">ESS website</a>. Especially, at the Data (Portal). Can you find any interesting variables for your own research ideas?</p>
</section>
<section id="understandings-of-democracy-in-austria" class="level2">
<h2 class="anchored" data-anchor-id="understandings-of-democracy-in-austria">Understandings of democracy (in Austria)</h2>
<ul>
<li><p><strong>Last week</strong>, we had a descriptive look at various understandings of democracy in Austria.</p></li>
<li><p><strong>Now</strong>, we want to investigate drivers of democratic perceptions and attitudes.</p></li>
<li><p>In particular, we will replicate some of the findings from <em>Kokkonen, A., &amp; Linde, J. (2023). A nativist divide? Anti‐immigration attitudes and diffuse support for democracy in Western Europe. European Journal of Political Research, 62(3), 977-988.</em> and <em>Kokkonen, A., &amp; Linde, J. (2023). Nativist attitudes and opportunistic support for democracy. West European Politics, 46(1), 49-72.</em></p>
<ul>
<li><p>You can use Google Scholar to find these articles and then get access the via the University library.</p></li>
<li><p>Specifically, the supplemental material is interesting to us as it describes the (construction of the) variables in more detail.</p></li>
</ul></li>
<li><p>Their main point is that citizens with a nativist attitude differ in their perception of democracy and their democratic attitudes. In short, according to the authors, nativists are citizens who are strongly concerned about immigration (for more information on the concept of nativism, have a look at their articles!).</p></li>
<li><p>We start with <em>Kokkonen, A., &amp; Linde, J. (2023). A nativist divide? Anti‐immigration attitudes and diffuse support for democracy in Western Europe. European Journal of Political Research, 62(3), 977-988.</em>. You can try to replicate <em>Kokkonen, A., &amp; Linde, J. (2023). Nativist attitudes and opportunistic support for democracy. West European Politics, 46(1), 49-72.</em> as well. The data and variables are quite similiar!</p></li>
</ul>
</section>
</section>
<section id="nativism-democracy" class="level1">
<h1>Nativism &amp; democracy</h1>
<section id="constructing-the-nativism-variable" class="level2">
<h2 class="anchored" data-anchor-id="constructing-the-nativism-variable">Constructing the nativism variable</h2>
<p>First, we need to construct the nativism variable used by Kokkonen and Linde. They describe this in the appendix of their paper. You can find the appendix <a href="https://ndownloader.figstatic.com/files/31716716">here</a>. In general, such information is provided via supplemental materials (e.g., an (online) appendix or in the main text.) Specifically, they use these three items of the ESS:</p>
<ol type="1">
<li>‘Would you say it is generally bad or good for [country’s] economy that people come to live here from other countries?’ (0=bad, 10=good);</li>
<li>‘Would you say that [country’s] cultural life is generally undermined or enriched by people coming to live here from other countries?’ (0=undermined, 10=enriched)</li>
<li>‘Is [country] made a worse or a better place to live by people coming to live here from other countries?’ (0=worse, 10=better).</li>
</ol>
<p>The scales are recoded so that higher scores denote stronger anti-immigration sentiments. The resulting index varies from 0 to 10.</p>
<p>So let’s start with creating the nativist index.</p>
<ul>
<li><p>Again, when <strong>inspecting the data and the codebook</strong> you would see that there are some responses that take values higher than 10. These values we want to disregard, as they indicate answers like “Don’t know”.</p></li>
<li><p>Further, the authors state that they recode the variable so that higher scores denote stronger anti-immigration sentiments. By substracting the variables from 10 we achieve this recoding. <strong>Check:</strong> Do you understand why?</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"data_Kokonnen_Linde_EJPR.Rdata"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data_Kokonnen_Linde_EJPR <span class="sc">%&gt;%</span> </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">imbgeco_clean =</span> <span class="fu">if_else</span>(imbgeco <span class="sc">&gt;</span> <span class="dv">10</span>, <span class="cn">NA</span>, imbgeco),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">imbgeco_recoded =</span> <span class="dv">10</span> <span class="sc">-</span> imbgeco_clean,</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">imueclt_clean =</span> <span class="fu">if_else</span>(imueclt <span class="sc">&gt;</span> <span class="dv">10</span>, <span class="cn">NA</span>, imueclt),</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">imueclt_recoded =</span> <span class="dv">10</span> <span class="sc">-</span> imueclt_clean,</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">imwbcnt_clean =</span> <span class="fu">if_else</span>(imwbcnt <span class="sc">&gt;</span> <span class="dv">10</span>, <span class="cn">NA</span>, imwbcnt),</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">imwbcnt_recoded =</span> <span class="dv">10</span> <span class="sc">-</span> imwbcnt_clean) <span class="sc">%&gt;%</span> </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># to generate the index, we take the mean of the three variable. </span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">nativist =</span> <span class="fu">mean</span>(<span class="fu">c</span>(imbgeco_recoded, imueclt_recoded, imwbcnt_recoded), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the authors use a standardized measure of nativism in their regression analysis</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">nativist_std =</span> nativist <span class="sc">/</span> (<span class="dv">2</span><span class="sc">*</span><span class="fu">sd</span>(nativist, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The main dependent variables in their analysis describe how important it is for respondents to live in democratically governed countries and how democratic they think their country is overall. Again, we need to make sure to exclude values higher than 10.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">implvdm =</span> <span class="fu">if_else</span>(implvdm <span class="sc">&gt;</span> <span class="dv">10</span>, <span class="cn">NA</span>, implvdm),</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">dmcntov =</span> <span class="fu">if_else</span>(dmcntov <span class="sc">&gt;</span> <span class="dv">10</span>, <span class="cn">NA</span>, dmcntov))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Great! Now, we can already replicate model 1 and 4 in their appendix table A1. Here, we need to make use of the <em>lm_robust</em> function of the <em>estimatr</em> package. It extends the <em>lm()</em> function. This allows us to include so-called clustered standard errors. <a href="https://evalf21.classes.andrewheiss.com/example/standard-errors/#estimatr-and-lm_robust">Here</a> is a great blog post on this. Let’s start with model 1:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>ols_1 <span class="ot">&lt;-</span> <span class="fu">lm_robust</span>(dmcntov <span class="sc">~</span> nativist_std,</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>           <span class="co"># this is equivalent to including country dummies as controls (not shown in the output)</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">fixed_effects =</span> <span class="sc">~</span> cntry,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>           <span class="co"># the code below allows us to include clustered standard errors at the country level</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">se_type =</span> <span class="st">"stata"</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">clusters =</span> cntry,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">data =</span> data)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ols_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm_robust(formula = dmcntov ~ nativist_std, data = data, clusters = cntry, 
    fixed_effects = ~cntry, se_type = "stata")

Standard error type:  stata 

Coefficients:
             Estimate Std. Error t value  Pr(&gt;|t|) CI Lower CI Upper DF
nativist_std   -1.091     0.1258  -8.675 5.267e-07   -1.361  -0.8214 14

Multiple R-squared:  0.1866 ,   Adjusted R-squared:  0.1862
Multiple R-squared (proj. model):  0.06697 ,    Adjusted R-squared (proj. model):  0.06646 
F-statistic (proj. model): 75.26 on 1 and 14 DF,  p-value: 5.267e-07</code></pre>
</div>
</div>
<p>And now, model 4:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>ols_4 <span class="ot">&lt;-</span> <span class="fu">lm_robust</span>(implvdm <span class="sc">~</span> nativist_std,</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>           <span class="co"># this is equivalent to including country dummies as controls (not shown in the output)</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">fixed_effects =</span> <span class="sc">~</span> cntry,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>           <span class="co"># the code below allows us to include clustered standard errors at the country level</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">se_type =</span> <span class="st">"stata"</span>,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">clusters =</span> cntry,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">data =</span> data)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ols_4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm_robust(formula = implvdm ~ nativist_std, data = data, clusters = cntry, 
    fixed_effects = ~cntry, se_type = "stata")

Standard error type:  stata 

Coefficients:
             Estimate Std. Error t value  Pr(&gt;|t|) CI Lower CI Upper DF
nativist_std  -0.9044    0.09618  -9.403 1.991e-07   -1.111  -0.6981 14

Multiple R-squared:  0.1106 ,   Adjusted R-squared:  0.1102
Multiple R-squared (proj. model):  0.05899 ,    Adjusted R-squared (proj. model):  0.05848 
F-statistic (proj. model): 88.42 on 1 and 14 DF,  p-value: 1.991e-07</code></pre>
</div>
</div>
</section>
</section>
<section id="your-turn" class="level1">
<h1>Your turn!</h1>
<p>Now, we have some code running and it is your part to take over. Do not worry if you cannot work on all of the points below in 90 minutes. The important thing is that you start practicing how to write and understand code, and engage with real data.</p>
<ul>
<li><p>First, check if the nativist index that we have created indeed is the same as in the paper. Compare the mean and standard deviation to the value in table A7 in the appendix.</p></li>
<li><p>Can you make a nicer looking regression table than just using <em>summary()</em>?</p></li>
<li><p>Next: How would you interpret the results? You can also read up on this in the paper. Keep in mind that: &nbsp;“<em>In the analyses we follow Gelman (<a href="https://ejpr.onlinelibrary.wiley.com/doi/full/10.1111/1475-6765.12551#ejpr12551-bib-0012">2008</a>) and standardize these indexes (and all control variables, except for dummy variables), by dividing them with two standard deviations. This means that the coefficient of nativism (and the other independent variables) should be interpreted as the change that takes place when moving from one standard deviation below the mean of nativism to one standard deviation above the mean. In the discussion of the results, we speak of this as the difference between strong nativists and strong non-nativists.”</em></p></li>
<li><p>Can you extend the replication and run the regressions for model 1-6 displayed in table A1 in the appendix?</p>
<ul>
<li>This requires you to do some data transformation first! You can find the description of the variables (and wording) at the end of the appendix. With this, you can search the variables in the ESS’ data portal: <a href="https://ess.sikt.no/en/?tab=overview" class="uri">https://ess.sikt.no/en/?tab=overview</a></li>
</ul></li>
<li><p>If this works, try also to replicate the coefficient plot of the left hand side of figure 1</p></li>
<li><p>Can you do the same for <em>Kokkonen, A., &amp; Linde, J. (2023). Nativist attitudes and opportunistic support for democracy. West European Politics, 46(1), 49-72?</em></p></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Statistics | Summer semester 2024 | University of Innsbruck</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">This page is built with <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>